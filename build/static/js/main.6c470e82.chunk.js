(this["webpackJsonpthe-phonebook"]=this["webpackJsonpthe-phonebook"]||[]).push([[0],{16:function(e,t,n){e.exports=n(39)},21:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),u=n.n(r),l=(n(21),n(5)),o=n(2),i=n(4),m=function(e){var t=e.contact,n=t.number,a=t.name,r=t.id,u=e.handleDelete;return c.a.createElement("li",null,a," - ",n,c.a.createElement("button",{onClick:function(){return u(r,a)}},"delete"))},s=function(e){var t=e.contacts,n=e.find,r=e.handleDelete;return c.a.createElement(a.Fragment,null,c.a.createElement("h2",null,"Contacts"),c.a.createElement("ul",{style:{listStyle:"none"}},t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return c.a.createElement(m,{key:e.id,contact:e,handleDelete:r})}))))},d=function(e){var t=e.handleSubmit,n=e.handleChange,a=e.newContact;return c.a.createElement("form",{onSubmit:t},c.a.createElement("div",null,"name:"," ",c.a.createElement("input",{onChange:n,value:a.name,name:"name",placeholder:"add name...",required:!0}),"number:"," ",c.a.createElement("input",{onChange:n,value:a.number,name:"number",placeholder:"add number...",required:!0})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add")))},f=function(e){var t=e.handleFind,n=e.find;return c.a.createElement(a.Fragment,null,"find: ",c.a.createElement("input",{onChange:t,value:n}))},h=function(e){var t=e.alert,n=t.type,a=t.message;return""===n?null:c.a.createElement("div",{className:n},a)},b=n(3),p=n.n(b),g="/api/persons",E=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)([]),m=Object(i.a)(u,2),b=m[0],E=m[1],v=Object(a.useState)({type:"",message:""}),y=Object(i.a)(v,2),C=y[0],j=y[1],O=Object(a.useState)({name:"",number:""}),w=Object(i.a)(O,2),S=w[0],k=w[1],D=function(){return setTimeout((function(){return j({type:"",message:""})}),3e3)};Object(a.useEffect)((function(){p.a.get(g).then((function(e){return e.data})).then((function(e){return E(e)})).catch((function(e){j({type:"fail",message:e.message}),D()}))}),[]);return c.a.createElement(a.Fragment,null,c.a.createElement("h2",null,"Phonebook"),c.a.createElement(f,{handleFind:function(e){return r(e.target.value)},find:n}),c.a.createElement("br",null),c.a.createElement(d,{handleSubmit:function(e){e.preventDefault();var t,n,a,c=b.find((function(e){return S.name.toLowerCase()===e.name.toLowerCase()}));if(c){if(window.confirm("Would you like to update ".concat(c.name,"'s number?"))){var r=Object(o.a)(Object(o.a)({},c),{},{number:S.number});(n=c.id,a=r,p.a.put("".concat(g,"/").concat(n),a).then((function(e){return e.data}))).then((function(e){E(b.map((function(t){return t.id===e.id?e:t}))),j({type:"success",message:"Contact updated"}),D()})).catch((function(e){j({type:"fail",message:e.message}),D()})),k({name:"",number:""})}}else(t=S,p.a.post(g,t).then((function(e){return e.data}))).then((function(e){E(b.concat(e)),j({type:"success",message:"Contact added"}),D()})).catch((function(e){j({type:"fail",message:e.message}),D()})),k({name:"",number:""})},handleChange:function(e){k(Object(o.a)(Object(o.a)({},S),{},Object(l.a)({},e.target.name,e.target.value)))},newContact:S}),c.a.createElement("br",null),c.a.createElement(h,{alert:C}),c.a.createElement(s,{contacts:b,find:n,handleDelete:function(e,t){window.confirm("Delete ".concat(t,"?"))&&function(e){return p.a.delete("".concat(g,"/").concat(e)).then((function(e){return e.data}))}(e).then((function(){E(b.filter((function(t){return t.id!==e}))),j({type:"success",message:"Contact deleted"}),D()})).catch((function(e){j({type:"fail",message:e.message}),D()}))}}))};u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.6c470e82.chunk.js.map